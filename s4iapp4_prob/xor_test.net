* D:\Devoir ecole\Universiter\Session4_2025\App4\Prob\S4_APP4_Info\s4iapp4_prob\xor_test.asc
V1 vdd 0 {vv}
V2 b 0 PULSE(0 {vv} 1000p 1p 1p 2000p 4000p 5)
XX2 a out vdd 0 b xor params: XOR ll=180n wn={nnw} wp={nnw*mp} vv=1.8 nnw=180n mp=2.26
V3 a 0 PULSE(0 {vv} 2000p 1p 1p 2000p 4000p 5)
C1 out 0 1f

* block symbol definitions
.subckt xor in1 Q vdd vss in2
M1 Q in1 N003 N003 NMOS l={ll} w={wn2} ad={450n*{wn2}} as={450n*{wn2}} pd={900n+{wn2}} ps={1080n+{wn2}}
M2 N001 /in1 Q N001 PMOS l={ll} w={wp3} ad={450n*{wp3}} as={450n*{wp3}} pd={900n+{wp3}} ps={1080n+{wp3}}
M3 vdd in1 N002 vdd PMOS l={ll} w={wp3} ad={450n*{wp3}} as={450n*{wp3}} pd={900n+{wp3}} ps={1080n+{wp3}}
M4 vdd in2 N001 vdd PMOS l={ll} w={wp3} ad={450n*{wp3}} as={450n*{wp3}} pd={900n+{wp3}} ps={1080n+{wp3}}
M5 N002 /in2 Q N002 PMOS l={ll} w={wp3} ad={450n*{wp3}} as={450n*{wp3}} pd={900n+{wp3}} ps={1080n+{wp3}}
M6 N003 in2 vss vss NMOS l={ll} w={wn2} ad={450n*{wn2}} as={450n*{wn2}} pd={900n+{wn2}} ps={1080n+{wn2}}
M7 Q /in1 N004 N004 NMOS l={ll} w={wn_not_in} ad={450n*{wn_not_in}} as={450n*{wn_not_in}} pd={900n+{wn_not_in}} ps={1080n+{wn_not_in}}
M8 N004 /in2 vss vss NMOS l={ll} w={wn_not_in} ad={450n*{wn_not_in}} as={450n*{wn_not_in}} pd={900n+{wn_not_in}} ps={1080n+{wn_not_in}}
XX1 in1 /in1 vdd vss inv params: ll=180n wn={wn} wp={wp}
XX2 in2 /in2 vdd vss inv params: ll=180n wn={wn} wp={wp}
.lib BU_180nm.lib
.param wp3={wp*3} wn3={wn*3} wn2={wn*2.5} wp2={wp*3} wn_not_in={wn*3}
.ends xor

.subckt inv In _Q vdd vss
M1 _Q In vss vss NMOS l={ll} w={wn} ad={450n*{wn}} as={450n*{wn}} pd={900n+{wn}} ps={1080n+{wn}}
M2 vdd In _Q vdd PMOS l={ll} w={wp} ad={450n*{wp}} as={450n*{wp}} pd={900n+{wp}} ps={1080n+{wp}}
.lib BU_180nm.lib
.ends inv

.model NMOS NMOS
.model PMOS PMOS
.lib C:\Users\gratt\AppData\Local\LTspice\lib\cmp\standard.mos
.param vv=1.8 nnw=180n mp=2.26
.tran 0 10000p 0 10p
.lib BU_180nm.lib
.meas tran t1 find time when v(out)=vv*0.1 rise 1
.meas tran t2 find time when v(out)=vv*0.9 rise 1
.meas tran t3 find time when v(out)=vv*0.1 fall 1
.meas tran t4 find time when v(out)=vv*0.9 fall 1
.meas tran transition_up param abs(t2-t1)
.meas tran transition_down param abs(t4-t3)
.meas TRAN ratio PARAM transition_up/transition_down
.backanno
.end
